<!DOCTYPE html>
<html>
<head> 

  <title>Mañana IDE</title>

  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">

  <link rel="stylesheet" type="text/css" href="https://fonts.googleapis.com/css?family=Inconsolata:400,700"> 
  <link rel="stylesheet" type="text/css" href="lib/bootstrap-3.1.1/css/bootstrap.min.css">
  <link rel="stylesheet" type="text/css" href="lib/bootstrap-3.1.1/css/bootstrap-theme.min.css">
  <link rel="stylesheet" type="text/css" href="ide.css">

</head>

<body>

<div id="workspace" class="fill"></div>

<!-- * ** *** ** * ** *** ** * ** *** ** * ** *** ** * ** *** ** * -->
<script type="text/x-manana" data-view-name="workspace">
  div (class="navbar navbar-inverse navbar-static-top" role="navigation")
    div.container-fluid
      div.navbar-header
        span.navbar-brand Mañana

  div.container-fluid.fill
    ul.nav.nav-tabs
      li
        a (href="#views", *toggle="tab") views
      li.active
        a (href="#editor", *toggle="tab") editor
      li
        a (href="#context", *toggle="tab") context
      li
        a (href="#tools", *toggle="tab") tools
      li
        a (href="#help", *toggle="tab") help

    div.row.fill
      div.tab-content.fill
        div (class="tab-pane fill", id="views")
          include "views"
        div (class="tab-pane fill active", id="editor")
          include "editor"
        div (class="tab-pane fill", id="context")
          include "context"
        div (class="tab-pane fill", id="tools")
          include "tools"
        div (class="tab-pane fill", id="help")
          include "help"
</script>

<!-- * ** *** ** * ** *** ** * ** *** ** * ** *** ** * ** *** ** * -->
<script type="text/x-manana" data-view-name="views">
  alias window.view_list.sort() as view_list

  div.row.fill
    div.col-xs-4.fill
      h2 views
      ol
        for v in view_list 
          li 
            a (href="#@{v}" class="editor-loader") @{v}

    div.col-xs-8.fill
      h2 tree
</script>

<!-- * ** *** ** * ** *** ** * ** *** ** * ** *** ** * ** *** ** * -->
<script type="text/x-manana" data-view-name="editor">
  div.row.fill
    div.col-xs-6.fill
      span > editing:
      code#current_view @{$manana.view.name} 
      pre #code_editor.fill

    div.col-xs-6.fill
      form (action="#" method="post" id="preview_options" class="form-horizontal")
        span format: 
        select #preview_format
          option (value="rendered") rendered
          option (value="html") html
      div#preview.fill

</script>

<!-- * ** *** ** * ** *** ** * ** *** ** * ** *** ** * ** *** ** * -->
<script type="text/x-manana" data-view-name="context">
  div.row.fill
    pre #context_editor.fill 
</script>

<!-- * ** *** ** * ** *** ** * ** *** ** * ** *** ** * ** *** ** * -->
<script type="text/x-manana" data-view-name="tools">
  h2 Tools
</script>

<!-- * ** *** ** * ** *** ** * ** *** ** * ** *** ** * ** *** ** * -->
<script type="text/x-manana" data-view-name="help">
  h2 Help 
</script>

<!-- * ** *** ** * ** *** ** * ** *** ** * ** *** ** * ** *** ** * -->
<script type="text/x-manana" data-view-name="base">
<!DOCTYPE html>
html
  head
    title Hello, Mañana!
  body
    h1 Hello, Mañana!

    p.lead Holy shitsnacks Mañana, you make life easy.. 

    div#conditions
      if my.team[0].first_name == "Alice"
        p -> first team memeber is Alice

      if my.team[-1].email != "eddie@fake.com"
        p -> false:  Eddie's email is @{my.team[-1].email}

    div#contexts
      h2 Now let's have some fun with contexts..

      with my.team as contacts
        ol#contacts
          for c in contacts
            li @{c.first_name} @{c.last_name} - @{c.email}
</script>

<!-- * ** *** ** * ** *** ** * ** *** ** * ** *** ** * ** *** ** * -->
<script type="text/x-manana-context" id="manana_context">
{
  "my": {
    "team": [
      {
        "first_name": "Alice",
        "last_name": "A",
        "email": "alice@a.com"
      },
      {
        "first_name": "Bob",
        "last_name": "B",
        "email": "bob@b.com"
      },
      {
        "first_name": "Charlie",
        "last_name": "C",
        "email": "charlie@c.com"
      },
      {
        "first_name": "David",
        "last_name": "D",
        "email": "david@d.com"
      },
      {
        "first_name": "Eddie",
        "last_name": "E",
        "email": "eddie@e.com"
      }
    ]
  },
  "numbers": {
    "a": 1,
    "b": 2,
    "c": 3
  }
}
</script>

<!-- * ** *** ** * ** *** ** * ** *** ** * ** *** ** * ** *** ** * -->
<script type="text/javascript" src="lib/jquery-1.11.1.min.js"></script>
<script type="text/javascript" src="lib/bootstrap-3.1.1/js/bootstrap.min.js"></script>
<script type="text/javascript" src="lib/ace/ace.js" charset="utf-8"></script>
<script type="text/javascript" src="lib/ace/theme-chrome.js"></script>
<script type="text/javascript" src="../manana_parser.js"></script>
<script type="text/javascript" src="../manana_interpreter.js"></script>
<script type="text/javascript" src="ide.js"></script>

</body>

</html>
