<!DOCTYPE html>
<html>
<head>

<title>Mañana IDE</title>

<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">

<link href="js/lib/bootstrap-3.3.0/dist/css/bootstrap.min.css" rel="stylesheet">
<link href="js/lib/bootstrap-3.3.0/dist/css/bootstrap-theme.min.css" rel="stylesheet">

<link href="https://fonts.googleapis.com/css?family=Inconsolata:400,700" rel="stylesheet"> 

<link href="ide.css" rel="stylesheet">

</head>

<body>

<div id="workspace" class="fill"></div>

<script type="text/x-manana" data-view-name="workspace" data-view-target="#workspace">
    div (class="navbar navbar-gradient navbar-fixed-top", role="navigation")
        div.container-fluid
            div.navbar-header
                button (type="button" class="navbar-toggle" *toggle="collapse" *target=".navbar-collapse")
                    span.sr-only Toggle navigation
                    span.icon-bar
                    span.icon-bar
                    span.icon-bar
                a (class="navbar-brand" href="#home") Mañana

            div.navbar-collapse.collapse
                ul.nav.navbar-nav
                    li
                        a -> "#debug" debug
                    li
                        a -> "#tools" tools

                div.nav.navbar-nav.navbar-right.col-sm-3.col-md-3
                    form (class="navbar-form", role="search")
                        div.input-group
                            input (type="text", class="form-control", placeholder="Search", name="srch-term", id="srch-term")
                            div.input-group-btn
                                button (class="btn btn-default", type="submit")
                                    i.glyphicon.glyphicon-search
                  
    div#main.container-fluid.fill

</script><!--/ workspace -->

<script type="text/x-manana" data-view-name="home" data-view-target="#main">
    div.row-fluid.fill
        ul (class="nav nav-tabs", role="tablist")
            li (role="presentation" class="active")
                a (href="#code-editor-tab" role="tab" *toggle="tab") Code
            li (role="presentation")
                a (href="#context-editor-tab" role="tab" *toggle="tab") Context
        div.tab-content.fill
            div (role="tabpanel" class="tab-pane active fill" id="code-editor-tab")
                div#code-editor-controls
                    include 'code-editor-controls'
                div#code-editor.fill
            div (role="tabpanel" class="tab-pane fill" id="context-editor-tab")
                div#context-editor-controls
                    include 'context-editor-controls'
                div#context-editor.fill
    div (
        id = "preview-modal"
        class = "modal fade in"
        tabindex = "-1"
        role = "dialog"
        aria-labelledby = "preview-modal-title"
        aria-hidden = "true"
    )
        div.modal-header
            button (type="button", class="close", *dismiss="modal", aria-hidden="true") &times; close
            h2#preview-modal-title

        div#preview-modal-body.modal-body
</script>

<script type="text/x-manana" data-view-name="code-editor-controls">
    alias $window.viewDirectory as views

    select #available-views
        option (value="") * Select a view to load it
        optgroup (label=" ")
            for view in views
                option (value=i"@{$key}") @{$key}

    button #code-editor-preview .btn.btn-primary 
        i.glyphicon.glyphicon-eye-open
        span Preview

    button #code-editor-add .btn.btn-success 
        i.glyphicon.glyphicon-plus
        span Add
</script>

<script type="text/x-manana" data-view-name="context-editor-controls">
    alias $window.manana_contexts as contexts

    select#available-contexts
        option (value="") * Select a context to load it
        optgroup (label=" ")
            for ctx in contexts
                option (value=i"@{$key}") @{$key}

    button #context-editor-add .btn.btn-success 
        i.glyphicon.glyphicon-plus
        span Add
</script>

<script type="text/x-manana" data-view-name="scratch-disk-view">
</script>

<script type="text/x-manana" data-view-name="welcome-message">
    h1 Welcome to Mañana, dude!

    h2 How to use the code editor:
    ol
        li Write some code here or load one of the views in the list
        li Click "Preview" to see what the rendered HTML will be
        li Click "Add" to save your view as long as the session exists

    h2 How to use the context editor
    ol
        li Write some JSON or load one of the pre-existing contexts
        li Click "Add" to save it or switch back to the code editor to use it

    h2 Notes:
    ol
        li This IDE makes no attempt at controlling your workflow
        li If you edit one of the views that are built-in, you will change the IDE 
        li That's a lot of rope. You no what [not] to do with it...
</script>

<script type="text/x-manana" data-view-name="topics" data-view-target="#main">
    div.row-fluid
        div.col-sm-2.col-md-2
            div.pad
                h2 Topics 
                ol
                    li
                        a (href="#home-modal", *toggle="modal", *view="if-exists") if exists
                    li
                        a (href="#home-modal", *toggle="modal", *view="if-elif-else") if-elif-else
                    li
                        a (href="#home-modal", *toggle="modal", *view="compound-conditions") compound conditions
    div (
        id = "home-modal"
        class = "modal fade in"
        tabindex = "-1"
        role = "dialog"
        aria-labelledby = "home-modal-title"
        aria-hidden = "true"
    )
        div.modal-header
            button (type="button", class="close", *dismiss="modal", aria-hidden="true") &times; close
            h2#home-modal-title

        div#home-modal-body.modal-body

</script><!--/ home -->

<script type="text/x-manana" data-view-name="editor" data-view-target="#main">
    h1 editor
</script><!--/ editor -->

<script type="text/x-manana" data-view-name="tools" data-view-target="#main">
    h1 tools
</script><!--/ tools -->

<script type="text/x-manana" data-view-name="if-exists" data-view-target="#home-modal-body">
    pre
        { "user": { "first_name": "Chad", "last_name": "Angelelli" } }
    hr
    pre
        if exists user.first_name
            span true

        if not exists my_var
            span true
</script>

<script type="text/x-manana" data-view-name="if-elif-else" data-view-target="#home-modal-body">
    pre
        { "user": { "first_name": "Chad", "last_name": "Angelelli" } }
    hr
    pre
        if user.first_name == 'Jim'
            span false
        elif user.first_name == 'Chad'
            span true 
        else
            span ?
</script>

<script type="text/x-manana" data-view-name="compound-conditions" data-view-target="#home-modal-body">
    pre
        { "user": { "first_name": "Chad", "last_name": "Angelelli" } }
    hr
    pre
        if user.first_name == 'Chad' and user.last_name == 'Angelelli'
            span true

        if user.first_name == 'X' or user.last_name == 'Angelelli'
            span true
</script>

<!-- ____________________________________________________________________ -->

<script src="js/lib/jquery-1.11.1.min.js"></script>
<script src="js/lib/bootstrap-3.3.0/dist/js/bootstrap.min.js"></script>
<script src="js/lib/ace/ace.js" charset="utf-8"></script>
<script src="js/lib/ace/theme-chrome.js"></script>
<script src="../../bin/manana.js"></script>
<script src="js/ide.js"></script>
<script src="js/manana-contexts.js"></script>
<script src="js/manana-functions.js"></script>

</body>

</html>
